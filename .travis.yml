
branches:
 only:
  - master

language: python

matrix:
  include:

    - os: linux
      python: "3.5.2"
      env:
        - INTEGRATION_TEST_REPO_NAME=github-release-bot/github-release-test-py3
        - INTEGRATION_TEST_GIT_USER_NAME=github-release-bot
        - INTEGRATION_TEST_GIT_USER_EMAIL=github-release-bot@users.noreply.github.com

    - os: linux
      python: "2.7"
      env:
        - INTEGRATION_TEST_REPO_NAME=github-release-bot/github-release-test-py2
        - INTEGRATION_TEST_GIT_USER_NAME=github-release-bot
        - INTEGRATION_TEST_GIT_USER_EMAIL=github-release-bot@users.noreply.github.com

install:
  - pip install -r requirements-dev.txt
  - pip install tox-travis

script:
  - tox

deploy:
  - provider: script
    script: scripts/upload-latest-release.sh
    skip_cleanup: true
    on:
      repo: j0057/github-release
      branch: master

env:
  global:
    secure: "BBMD+hloyqOsR/0Pac8WRpStkQDi+30ZZgnC4//Wiqpk82FdOfuVBMaQrTnCFeUaqLHBCDm5MMW58s7GjSn/zEPtHoNlvxpW9uV0CRub3pjs+2GsXNTh1gBuFzYohImhTZf1M2VzGT12NnjN0QYqFNoaDkihbC44q1+Mz/qtFDyHT92QgQ9TkbI9vrfJBDAKq5rQgIXqmZNJZGGFmk91XnNri4k4wddIHkZd+sVx398KaAbw8fEZoxLEGedTmKUrLexDB/4Hh1C2XMm+u6CrEou6p6Kk45jho31bEPSqDPcnWadPXsomQ1wr/n1TRxEQZfAxRm3irqshwz7DX8Yw/JLuBf3Y0Y/sqfwRwI8JbR8WuKyzSwclotcdj17FJgsKettyf4WsF/4UrqZKFG2MKrR49GQbOVmFtpDnfFYuZ/be0OptZHXhXKxj8Pbj5RaxvjzXDQVpPyOvWW9fZlGi1DhVsNsiSl4wQyV253P4Tax91mFRog1W4QOf8fkY8bVEU6hhqI8ApntDmXHlT5Ym1zXLqsk+U4maxXPC2NXATD6B778hRP906WCv6dqHVb5fwn06HftdfWrpWTa+Aww470IRbTvC1SSWa4zoD6kHX9rXtP4lEy7yA2E+I65dgY/Heq3ERIkVmjvjulks1HkQWqZeoe7nD58sSSwrxuaIbRo="